## My Feed Chooser - 功能设计书

### 1. 项目概述

**核心目标**: 将各大平台的算法推荐替换为用户关注内容的随机展示，让用户重新掌控信息流。

**支持平台**: Bilibili、YouTube、Twitter、Instagram（可扩展）

### 2. 功能模块描述

#### 2.1 平台适配器系统

**功能描述**: 为每个支持的平台创建独立的文件，负责处理该平台特有的API调用、DOM操作和数据格式转换。

**核心职责**:
- 检测当前页面是否属于目标平台
- 获取用户的关注列表
- 获取关注对象发布的内容
- 识别并定位页面中的推荐内容区域
- 将获取的内容渲染到页面中

#### 2.2 内容获取引擎

**功能描述**: 负责从各个平台获取用户关注的内容，并进行处理、筛选和排序。

**核心职责**:
- 管理关注列表的获取和更新
- 从关注对象中随机选择一批用户
- 批量获取这些用户发布的内容
- 对内容进行去重、过滤和排序
- 维护一个内容池供展示使用

#### 2.3 DOM替换引擎

**功能描述**: 负责识别页面中的推荐内容区域（不同网站的区域不同），并将其替换为从关注对象获取的内容。

**核心职责**:
- 监听页面DOM变化，等待推荐内容加载
- 定位推荐内容的容器元素
- 创建符合平台风格的内容卡片（默认不用创建，只需要替换掉原来的DOM中的制定内容，如链接跳转等）
- 将推荐内容替换为关注内容

#### 2.4 缓存管理系统

**功能描述**: 管理所有数据的缓存，包括关注列表、用户内容和媒体资源，以减少API调用次数。

**核心职责**:
- 存储和检索关注列表缓存
- 管理用户内容的缓存
- 处理缓存的过期和更新
- 提供缓存清理功能
- 优化存储空间使用

#### 2.5 配置管理系统

**功能描述**: 管理用户的所有配置选项，包括平台开关、内容偏好、UI设置等。

**核心职责**:
- 存储用户配置
- 提供配置的读取和更新接口
- 处理配置的同步和备份
- 提供默认配置
- 验证配置的有效性

#### 2.6 查看面板

**功能描述**: 用来查看当前项目缓存了哪些内容，可以手动删除

用来浏览当前缓存的状态，使用表格或者列表式展现



### 参考工具链

本项目基于Bun运行时，使用的react框架，默认使用的tailwindcss和shadcn，格式工具和lint工具使用biome管理

react 生态链推荐
状态管理：zustand
