# Chrome Extension æ‰“åŒ…æŒ‡å—

## ğŸ“¦ æ‰“åŒ…å‘½ä»¤

### åŸºç¡€æ‰“åŒ…
```bash
bun run package
```

### å¼€å‘ç¯å¢ƒæ‰“åŒ…
```bash
bun run package:dev
```

### å®Œæ•´å‘å¸ƒæµç¨‹ï¼ˆæ¸…ç†+æ‰“åŒ…ï¼‰
```bash
bun run release
```

## ğŸš€ æ‰“åŒ…æµç¨‹

è„šæœ¬ä¼šè‡ªåŠ¨æ‰§è¡Œä»¥ä¸‹æ­¥éª¤ï¼š

1. **æ¸…ç†æ—§åŒ…** - åˆ é™¤ `release/` ç›®å½•ä¸­çš„æ—§ç‰ˆæœ¬
2. **æ„å»ºé¡¹ç›®** - è¿è¡Œ `scripts/build.ts` æ„å»º dist ç›®å½•
3. **éªŒè¯æ–‡ä»¶** - æ£€æŸ¥å¿…è¦çš„æ‰©å±•æ–‡ä»¶æ˜¯å¦å­˜åœ¨
4. **åˆ›å»ºç‰ˆæœ¬ä¿¡æ¯** - ç”Ÿæˆ `version.json` åŒ…å«æ„å»ºä¿¡æ¯
5. **ç”Ÿæˆ ZIP åŒ…** - åˆ›å»ºé€‚ç”¨äº Chrome Web Store çš„ zip æ–‡ä»¶
6. **ç”ŸæˆæŠ¥å‘Š** - è¾“å‡ºè¯¦ç»†çš„æ‰“åŒ…ä¿¡æ¯

## ğŸ“ è¾“å‡ºæ–‡ä»¶

æ‰“åŒ…å®Œæˆåï¼Œä½ ä¼šåœ¨ `release/` ç›®å½•ä¸­æ‰¾åˆ°ï¼š

```
release/
â”œâ”€â”€ onlyfocus-v1.0.0.zip          # Chrome Web Store ä¸Šä¼ æ–‡ä»¶
â”œâ”€â”€ package-report-v1.0.0.json    # è¯¦ç»†æ‰“åŒ…æŠ¥å‘Š
â””â”€â”€ ...
```

## ğŸ“Š æ‰“åŒ…æŠ¥å‘Š

æŠ¥å‘ŠåŒ…å«ä»¥ä¸‹ä¿¡æ¯ï¼š

- **packageName**: æ‰©å±•åç§°
- **version**: ç‰ˆæœ¬å·
- **packagePath**: åŒ…æ–‡ä»¶è·¯å¾„
- **packageSize**: åŒ…æ–‡ä»¶å¤§å°
- **buildTime**: æ„å»ºæ—¶é—´
- **filesIncluded**: åŒ…å«çš„æ–‡ä»¶æ•°é‡

## âš ï¸ æ³¨æ„äº‹é¡¹

### ç³»ç»Ÿè¦æ±‚
- éœ€è¦å®‰è£… `zip` å‘½ä»¤è¡Œå·¥å…·ï¼ˆå¤§å¤šæ•°ç³»ç»Ÿå·²é¢„è£…ï¼‰
- macOS/Linux: é€šå¸¸å·²é¢„è£…
- Windows: å¯é€šè¿‡ Git Bash æˆ– WSL ä½¿ç”¨

### ç‰ˆæœ¬ç®¡ç†
- ç‰ˆæœ¬å·è‡ªåŠ¨ä» `package.json` è¯»å–
- æ¯æ¬¡å‘å¸ƒå‰è¯·ç¡®ä¿ç‰ˆæœ¬å·å·²æ›´æ–°

### æ–‡ä»¶éªŒè¯
è„šæœ¬ä¼šæ£€æŸ¥ä»¥ä¸‹å¿…è¦æ–‡ä»¶ï¼š
- `manifest.json`
- `content.js`
- `background.js`
- `popup.html`

## ğŸŒ Chrome Web Store ä¸Šä¼ 

1. **è·å–åŒ…æ–‡ä»¶**
   ```bash
   ls release/*.zip
   ```

2. **ä¸Šä¼ åˆ°å¼€å‘è€…æ§åˆ¶å°**
   - è®¿é—® [Chrome Web Store Developer Dashboard](https://chrome.google.com/webstore/developer/dashboard)
   - ä¸Šä¼ ç”Ÿæˆçš„ ZIP æ–‡ä»¶

3. **å¡«å†™å•†åº—ä¿¡æ¯**
   - æ’ä»¶åç§°ã€æè¿°
   - æˆªå›¾å’Œå›¾æ ‡
   - éšç§æ”¿ç­–é“¾æ¥ï¼ˆå¦‚éœ€è¦ï¼‰

## ğŸ”§ è‡ªå®šä¹‰é…ç½®

å¯ä»¥åœ¨ `scripts/package.ts` ä¸­ä¿®æ”¹é…ç½®ï¼š

```typescript
const config: PackageConfig = {
  outputDir: 'release',      // è¾“å‡ºç›®å½•
  distDir: 'dist',          // æ„å»ºç›®å½•
  packageName: 'onlyfocus', // åŒ…åå‰ç¼€
  version: '1.0.0'          // ç‰ˆæœ¬å·
};
```

## ğŸ› æ•…éšœæ’é™¤

### zip å‘½ä»¤æœªæ‰¾åˆ°
```bash
# macOS
brew install zip

# Ubuntu/Debian
sudo apt-get install zip

# CentOS/RHEL
sudo yum install zip
```

### æƒé™é—®é¢˜
```bash
chmod +x scripts/package.ts
```

### æ„å»ºå¤±è´¥
```bash
# æ‰‹åŠ¨æ„å»ºæ£€æŸ¥
bun run build
ls dist/
```

## ğŸ“‹ ä¸Šä¼ å‰æ£€æŸ¥æ¸…å•

- [ ] ç‰ˆæœ¬å·å·²æ›´æ–°
- [ ] `manifest.json` ä¿¡æ¯æ­£ç¡®
- [ ] æ‰€æœ‰å›¾æ ‡æ–‡ä»¶å­˜åœ¨ä¸”å°ºå¯¸æ­£ç¡®
- [ ] æ’ä»¶åœ¨æœ¬åœ°æµ‹è¯•æ­£å¸¸
- [ ] éšç§æ”¿ç­–é¡µé¢å·²åˆ›å»ºï¼ˆå¦‚éœ€è®¿é—®ç”¨æˆ·æ•°æ®ï¼‰
- [ ] å•†åº—æˆªå›¾å·²å‡†å¤‡
- [ ] ZIP åŒ…å¤§å°åˆç†ï¼ˆå»ºè®® < 50MBï¼‰

## ğŸ¯ å¿«é€Ÿå‘å¸ƒ

```bash
# ä¸€é”®å‘å¸ƒæµç¨‹
bun run release

# æ£€æŸ¥ç”Ÿæˆçš„åŒ…
ls -lh release/*.zip
```

æ‰“åŒ…å®Œæˆåï¼Œç›´æ¥å°† ZIP æ–‡ä»¶ä¸Šä¼ åˆ° Chrome Web Store å³å¯ï¼